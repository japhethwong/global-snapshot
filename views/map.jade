extends layout

block content
  script.
    var socket = io.connect();
    socket.emit('get_tweets', {});

    socket.on('tweet', function (data) {
      console.log(data);
      coords = data.coordinates.coordinates;
      latLng = new google.maps.LatLng(coords[1], coords[0]);

      var circle = {
        path: google.maps.SymbolPath.CIRCLE,
        fillColor: "red",
        fillOpacity: 1,
        scale: 1,
        strokeColor: "red",
        strokeWeight: 8
      };

      marker = new google.maps.Marker({
        position: latLng,
        icon: circle,
        title: data.username,
        animation: google.maps.Animation.DROP
      });
      marker.setMap(map);
    });
  script.
    var map;
    function initialize() {
      var mapOptions = {
        zoom: 5,
        center: new google.maps.LatLng(38.640143, -97.28685),
        mapTypeId: google.maps.MapTypeId.ROADMAP
      }
      map = new google.maps.Map(document.getElementById("map-canvas"), mapOptions);

      var marker = new google.maps.Marker({
        position: new google.maps.LatLng(37.869565, -122.258786),
        map: map
      });
    }
    function loadScript() {
      var script = document.createElement("script");
      script.type = "text/javascript";
      script.src = "http://maps.googleapis.com/maps/api/js?key=AIzaSyCRwBI1OK6q5IrC0_cWhXV_5qJ3N5fVR9E&sensor=false&callback=initialize";
      document.body.appendChild(script);
    }
    window.onload = loadScript;
    
  function tweet() {
    var time = "5 seconds ago GAHHH";
    var user = "bob";
    var location = "HERE";
    var photo = "[photo]";
    var text = "awesomest tweet evar";
  }
    
  #header
    Some options here
  #map
    #map-canvas(style='width: 100%; height: 100%')
  #feed
    STUFF FEED

